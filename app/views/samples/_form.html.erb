<%= nested_form_for @sample do |f| %>
  <% if @sample.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@sample.errors.count, "error") %> prohibited this sample from being saved:</h2>

      <ul>
      <% @sample.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<select class="changeSection">
  <option value="sampleSection">Sample Section</option>
  <option value="substrateSection">Substrate Section</option>
  <option value="speciesSection">Species Section</option>
</select>
<div class='formContainer'>
  <div id="sampleSection" class="sectionDiv">
  <div class='section_1'>
    <div id='section_1_part_1'>
      <%= f.label "Date" %>
      <%= f.date_select :sample_date, { :class => 'tab_1' } %>
        
      <%= render "diver_selection", :object => f %>


      <%= f.label "Sample Type" %>
      <%= f.collection_select :sample_type_id, SampleType.all, :id, :sample_type_name, { :include_blank => "" }, { :class => 'tab_1' } %><br />

      <%= f.label "Habitat Type" %>
      <%= f.collection_select :habitat_type_id, HabitatType.all, :id, :habitat_name, { :include_blank => "" }, { :class => 'tab_1' } %><br />

      <%= f.label "Dive Begin Time" %>
      <%= f.time_select :dive_begin_time, { :include_blank => "" }, { :class => 'tab_1' } %><br />

      <%= f.label "Dive End Time" %>
      <%= f.time_select :dive_end_time, { :include_blank => "" }, { :class => 'tab_1' } %><br />

      <%= f.label "Sample Begin Time" %>
      <%= f.time_select :sample_begin_time, { :include_blank => "" }, { :class => 'tab_1' } %><br />
      
      <%= f.label "Sample End Time" %>
      <%= f.time_select :sample_end_time, { :include_blank => "" }, { :class => 'tab_1' } %><br />
    </div>
    <div id='section_1_part_2'>
      <%= f.label "Max Dive Depth" %>
      <%= f.text_field :dive_depth, { :class => 'tab_1' } %><br />

      <%= f.label "Station Depth" %>
      <%= f.text_field :sample_depth, { :class => 'tab_1' } %><br />

      <%= f.label "Fishing gear" %>
      <%= f.text_field :fishing_gear, { :class => 'tab_1' } %><br />

      <%= f.label "Field Number" %>
      <%= f.text_field :field_id, { :class => 'tab_1' } %><br />

      <%= f.label "Underwater Visibility" %>
      <%= f.text_field :underwater_visibility, { :class => 'tab_1' } %><br />

      <%= f.label "Comments" %>
      <%= f.text_area :sample_description, { :size => '60x3', :class => 'tab_1' } %><br />
    </div>
  </div>
</div>
<div id="substrateSection" class="sectionDiv">
  <div class='section_2'>
    <div id='section_2_part_1'>
         <%= f.label "Max Substrate Depth" %>
         <%= f.text_field :substrate_max_depth %><br />

         <%= f.label "Min Substrate Depth" %>
         <%= f.text_field :substrate_min_depth %><br />

         <%= f.label "Hard Substrate" %>
         <%= f.text_field :hard_verticle_relief %><br />

         <%= f.label "Soft Substrate" %>
         <%= f.text_field :soft_verticle_relief %><br />
        
         <%= render "surface_relief_coverage", :object => f %>
         <%#= render "surface_relief_coverage", :object => f, :klass => 'hard_relief' %><br />
         
         <%#= render "surface_relief_coverage", :object => f, :klass => 'soft_relief' %>
    </div>
  </div>
</div>

<div id="speciesSection" class="sectionDiv">
  <div class='section_3'>
    
    <%= render "animals", :object => f %>
    
    <p> <%= f.link_to_add "Add species", :sample_animals %></p>

  <div class="actions">
    <%= f.submit %>
  </div>

  </div>
</div>

<% end %>
</div>
 
